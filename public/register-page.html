<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Register - ThelaXpress</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Simple fade-in animation for sections */
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.8s forwards;
    }
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* Smooth transition for form visibility */
    .form-transition {
      transition: all 0.3s ease-in-out;
    }
  </style>
</head>
<body class="bg-green-50 min-h-screen font-sans text-green-900 flex items-center justify-center py-8">

  <div class="max-w-md w-full bg-white rounded-lg shadow-lg p-8 fade-in">
    <h2 class="text-3xl font-bold text-center text-green-900 mb-6">Register</h2>
    <p class="text-center text-green-800 mb-4">Select your role to create an account:</p>

    <div id="role-selection" class="flex flex-col gap-4 mb-6 form-transition">
      <button id="vendor-btn" class="role-btn bg-green-800 hover:bg-green-900 text-white font-semibold px-4 py-2 rounded-lg shadow transition focus:outline-none focus:ring-4 focus:ring-green-600">
        Register as Vendor
      </button>
      <button id="supplier-btn" class="role-btn bg-green-800 hover:bg-green-900 text-white font-semibold px-4 py-2 rounded-lg shadow transition focus:outline-none focus:ring-4 focus:ring-green-600">
        Register as Supplier
      </button>
      
    </div>

    <form id="register-form" class="space-y-4 hidden form-transition">
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label for="firstName" class="block text-sm font-semibold text-green-900">First Name</label>
          <input type="text" id="firstName" required class="mt-1 block w-full border border-green-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-green-600" placeholder="John" />
        </div>
        <div>
          <label for="lastName" class="block text-sm font-semibold text-green-900">Last Name</label>
          <input type="text" id="lastName" required class="mt-1 block w-full border border-green-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-green-600" placeholder="Doe" />
        </div>
      </div>

      <div>
        <label for="email" class="block text-sm font-semibold text-green-900">Email Address</label>
        <input type="email" id="email" required class="mt-1 block w-full border border-green-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-green-600" placeholder="you@example.com" />
      </div>

      <div>
        <label for="phone" class="block text-sm font-semibold text-green-900">Phone Number</label>
        <input type="tel" id="phone" required class="mt-1 block w-full border border-green-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-green-600" placeholder="+1 (555) 123-4567" />
      </div>

      <div>
        <label for="company" class="block text-sm font-semibold text-green-900">Company Name</label>
        <input type="text" id="company" required class="mt-1 block w-full border border-green-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-green-600" placeholder="Your Company Ltd." />
      </div>

      <div>
        <label for="password" class="block text-sm font-semibold text-green-900">Password</label>
        <input type="password" id="password" required class="mt-1 block w-full border border-green-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-green-600" placeholder="********" />
      </div>

      <div>
        <label for="confirmPassword" class="block text-sm font-semibold text-green-900">Confirm Password</label>
        <input type="password" id="confirmPassword" required class="mt-1 block w-full border border-green-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-green-600" placeholder="********" />
      </div>

      <div class="flex items-center">
        <input type="checkbox" id="terms" required class="h-4 w-4 text-green-600 focus:ring-green-500 border-green-300 rounded" />
        <label for="terms" class="ml-2 block text-sm text-green-900">
          I agree to the <a href="#" class="text-green-600 hover:underline">Terms of Service</a> and <a href="#" class="text-green-600 hover:underline">Privacy Policy</a>
        </label>
      </div>

      <button type="submit" class="w-full bg-green-800 hover:bg-green-900 text-white font-semibold px-4 py-2 rounded-lg shadow transition focus:outline-none focus:ring-4 focus:ring-green-600">
        Create Account
      </button>

      <button type="button" id="back-btn" class="w-full bg-gray-300 hover:bg-gray-400 text-gray-700 font-semibold px-4 py-2 rounded-lg shadow transition focus:outline-none focus:ring-4 focus:ring-gray-300">
        Back to Role Selection
      </button>
    </form>

    <p class="mt-4 text-center text-green-800">
      Already have an account? <a href="./login-page.html" class="text-green-600 hover:underline">Sign In</a>
    </p>
  </div>

  <script>
    // Handle role selection
    const supplierBtn = document.getElementById('supplier-btn');
    const vendorBtn = document.getElementById('vendor-btn');
    const registerForm = document.getElementById('register-form');
    const roleSelection = document.getElementById('role-selection');
    const backBtn = document.getElementById('back-btn');

    supplierBtn.addEventListener('click', () => {
      roleSelection.classList.add('hidden'); // Hide role selection
      registerForm.classList.remove('hidden'); // Show register form
      registerForm.dataset.role = 'supplier'; // Store the selected role
    });

    vendorBtn.addEventListener('click', () => {
      roleSelection.classList.add('hidden'); // Hide role selection
      registerForm.classList.remove('hidden'); // Show register form
      registerForm.dataset.role = 'vendor'; // Store the selected role
    });

    // Handle back button
    backBtn.addEventListener('click', () => {
      registerForm.classList.add('hidden'); // Hide register form
      roleSelection.classList.remove('hidden'); // Show role selection
      registerForm.reset(); // Clear form data
    });

    // Handle form submission
    registerForm.addEventListener('submit', (event) => {
      event.preventDefault();

      // Get form data
      const role = registerForm.dataset.role;
      const firstName = document.getElementById('firstName').value;
      const lastName = document.getElementById('lastName').value;
      const email = document.getElementById('email').value;
      const phone = document.getElementById('phone').value;
      const company = document.getElementById('company').value;
      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirmPassword').value;
      const termsAccepted = document.getElementById('terms').checked;

      // Basic validation
      if (password !== confirmPassword) {
        alert('Passwords do not match!');
        return;
      }

      if (password.length < 6) {
        alert('Password must be at least 6 characters long!');
        return;
      }

      if (!termsAccepted) {
        alert('Please accept the Terms of Service and Privacy Policy!');
        return;
      }

      // Create user data object
      const userData = {
        role: role,
        firstName: firstName,
        lastName: lastName,
        email: email,
        phone: phone,
        company: company
      };

      // In a real application, you would send this data to your server
      console.log('Registration data:', userData);

      // Redirect to email confirmation page
      window.location.href = `email-confirmation.html?role=${role}&email=${encodeURIComponent(email)}&action=register`;
    });

    // Real-time password validation
    const passwordInput = document.getElementById('password');
    const confirmPasswordInput = document.getElementById('confirmPassword');

    confirmPasswordInput.addEventListener('input', () => {
      if (confirmPasswordInput.value && passwordInput.value !== confirmPasswordInput.value) {
        confirmPasswordInput.setCustomValidity('Passwords do not match');
      } else {
        confirmPasswordInput.setCustomValidity('');
      }
    });

    passwordInput.addEventListener('input', () => {
      if (confirmPasswordInput.value && passwordInput.value !== confirmPasswordInput.value) {
        confirmPasswordInput.setCustomValidity('Passwords do not match');
      } else {
        confirmPasswordInput.setCustomValidity('');
      }
    });
  </script>

</body>
</html>
